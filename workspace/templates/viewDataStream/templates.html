{% load i18n extra_tags core_components components %}

{# Sidebar #}
<script type="text/template" id="id_SidebarTemplate">

<div class="box">
  <div class="section-box infoBox" id="id_infoSidebar">

    <header class="title clearfix">
      <h1 class="FL">{% trans 'APP-INFO-TEXT' %}</h1>
    </header>
    <div class="boxContent">

      <article class="status">
        <i></i>
        <header>
          <h1>{% trans 'APP-STATUS-TEXT' %}</h1>
        </header>
        <p id="id_status"><%= status %></p>
      </article>

      <article class="category">
        <i></i>
        <header>
          <h1>{% trans 'APP-CATEGORY-TEXT' %}</h1>
        </header>
        <p id="id_category"><%= category %></p>
      </article>

      <article class="lastUpdate">
        <i></i>
        <header>
          <h1>{% trans 'DATASET-TABLE-HEADER-MODIFIED' %}</h1>
        </header>
        <p id="id_lastUpdate"><%= modified_at %></p>
      </article>
      
      <article class="type">
        <i></i>
        <header>
          <h1>{% trans 'APP-TYPE-TEXT' %}</h1>
        </header>
        <p class="clearfix">
          <span class="icon <%= impl_type %>"><%= impl_type %></span>
        </p>
      </article>
      
      {% comment %}
      {% if datastream.sources %} 
      <article class="sources">
        <i></i>
        <header>
          <h1>{% trans 'APP-SOURCES-TEXT' %}</h1>
        </header>
        <ul class="list">
          {% for source in datastream.sources %}
          <li class="clearfix"><%= source.source__name|capfirst %></li>
          {% endfor %}
        </ul>
      </article>
      {% endif %}

      {% if datastream.tags %}
      <article class="tags">
        <i></i>
        <header>
          <h1>{% trans 'APP-TAGS-TEXT' %}</h1>
        </header>
        <ul class="list">
          {% for tag in datastream.tags %}
          <li class="clearfix"><%= tag.tag__name|capfirst %></li>
          {% endfor %}
        </ul>
      </article>
      {% endif %}
      {% endcomment %}

    </div>
  </div>

  <% if (notes) { %>
  <div class="section-box notesBox" id="id_notesSidebar">
    <header class="title">
      <h1>{% trans 'APP-NOTES-TEXT' %}</h1>
    </header>
    <div class="boxContent">
      <article class="notes WYSIWYG">
        <%= notes %>
      </article>
    </div>
  </div>
  <% } %>

</div>
</script>

{# Edit - Add New Source #}
<script type="text/template" id="id_AddNewSourceTemplate">
  <div class="FL">  
    <div class="nolabel">
      <div class="insetFormTitle">{% trans 'APP-ADDNEW-TEXT' %}</div>
    </div>

    <div class="row clearfix">
      <label for="id_name"></label>
      <input type="text" name="name" id="id_name" placeholder="{% trans 'APP-NAME-TEXT' %}">
    </div>

    <div class="row clearfix">
      <label for="id_url_source"></label>
      <input type="text" name="url_source" id="id_url_source" placeholder="{% trans 'APP-URL-TEXT' %}">
    </div>

    <div class="row clearfix">
      <a title="{% trans 'APP-ADD-TEXT' %}" class="button black small nolabel FL" id="id_addNewSourceButton">{% trans 'APP-ADD-TEXT' %}</a>
    </div>
  </div>
</script>

{# Edit - Add Source #}
<script type="text/template" id="id_AddSourceTemplate">
  <label for="id_source_name">{% trans 'APP-SOURCES-TEXT' %}</label>
  <input type="text" name="source_name" id="id_source_name" tabindex="0">
  <p class="tip">{% trans 'EDITDS-SOURCE-TIP1' %} <a id="id_addSourceButton" tabindex="-1">{% trans 'EDITDS-SOURCE-TIP2' %}</a></p>
</script>

{# Edit - Add Tag #}
<script type="text/template" id="id_AddTagTemplate">
  <label for="id_tag_name">{% trans 'APP-TAGS-TEXT' %}</label>
  <input type="text" name="tag_name" id="id_tag_name" tabindex="0">
  <p class="tip">{% trans 'OVEDITDS-TAGS-TIP' %}</p>
</script>

{# Edit - Tag #}
<script type="text/template" id="id_TagTemplate">
  <span class="tagInner clearfix">
    <span class="tagTxt"><%= name %></span>
    <a class="remove"><span class="DN">{% trans 'APP-REMOVE-TEXT' %}</span></a>
  </span>
</script>